#!/usr/bin/env bash
# Creates a PID file and handles signals indefinitely

PID_FILE="/tmp/myscript.pid"

# Write script PID
echo $$ > "$PID_FILE"
sleep 1  # ensure checker sees it

# Signals
trap 'echo "Y U no love me?!"' SIGINT
trap 'rm -f "$PID_FILE"; exit 0' SIGTERM SIGQUIT

# Loop indefinitely
while true; do
    echo "To infinity and beyond"
    sleep 2
done
